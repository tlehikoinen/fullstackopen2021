{"version":3,"sources":["services/phonebook.js","App.js","index.js"],"names":["baseUrl","axios","get","newUser","post","id","delete","RenderPhonebook","filterText","persons","handleDelete","filter","person","name","toLowerCase","includes","map","i","RenderPerson","phonenumber","onClick","ChangeText","text","className","ErrorText","Filter","props","value","inputText","onChange","InputForm","inputTypes","input","inputInfo","NewInput","inputName","inputValue","placeholder","placeHolder","NewButton","buttonInfo","type","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterText","changeText","setChangeText","errorText","setErrorText","useEffect","personService","then","response","data","updatePhonebook","inputs","event","target","preventDefault","res","undefined","error","setTimeout","deletedUser","find","p","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"0MAEMA,EAAU,oCAoBD,EAlBA,WACX,OAAOC,IAAMC,IAAIF,IAiBN,EAdA,SAAAG,GACX,OAAOF,IAAMG,KAAKJ,EAASG,IAahB,EAVI,SAAAE,GACf,OAAOJ,IAAMK,OAAN,UAAgBN,EAAhB,YAA2BK,K,OCVhCE,EAAkB,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,WAAYC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAC9C,OACE,6BACGD,EACEE,QAAO,SAAAC,GAAM,OAAIA,EAAOC,KAAKC,cAAcC,SAASP,EAAWM,kBAC/DE,KAAI,SAACJ,EAAQK,GAAT,OAAe,cAAC,EAAD,CAAsBL,OAAQA,EAAQF,aAAcA,GAAjCO,SAIzCC,EAAe,SAAC,GAAD,IAAGN,EAAH,EAAGA,OAAQF,EAAX,EAAWA,aAAX,OAA8B,+BAAKE,EAAOC,KAAZ,IAAmBD,EAAOO,YAA1B,IAAuC,wBAAQC,QAAS,kBAAMV,EAAaE,EAAOP,KAA3C,wBAEpFgB,EAAa,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACpB,OAAa,OAATA,EACK,KAGP,qBAAKC,UAAU,aAAf,SACGD,KAKDE,EAAY,SAAC,GAAc,IAAZF,EAAW,EAAXA,KACnB,OAAa,OAATA,EACK,KAGP,qBAAKC,UAAU,YAAf,SACGD,KAKDG,EAAS,SAACC,GAAD,OACb,gCACGA,EAAMJ,KADT,IACe,uBAAOK,MAAOD,EAAME,UAAWC,SAAUH,EAAMG,eAI1DC,EAAY,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAH,OAChB,+BACGA,EAAWf,KAAI,SAACgB,EAAOf,GAAR,OAAc,cAAC,EAAD,CAAkBgB,UAAWD,GAAdf,SAI3CiB,EAAW,SAAC,GAAD,IAAGD,EAAH,EAAGA,UAAH,OACf,qCACGA,EAAUE,UADb,KACyB,uBAAOR,MAAOM,EAAUG,WAAYC,YAAaJ,EAAUK,YAAaT,SAAUI,EAAUJ,WAAY,2BAI7HU,EAAY,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAH,OAChB,mCACE,wBAAQC,KAAMD,EAAWC,KAAMrB,QAASoB,EAAWpB,QAAnD,SAA6DoB,EAAWlB,UAgG3DoB,EA3FL,WAEV,MAA8BC,mBAAS,IAAvC,mBAAOlC,EAAP,KAAgBmC,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAAoCL,mBAAS,IAA7C,mBAAOnC,EAAP,KAAmByC,EAAnB,KACA,EAAoCN,mBAAS,MAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KACA,EAAkCR,mBAAS,MAA3C,mBAAOS,EAAP,KAAkBC,EAAlB,KAEAC,qBAAU,WACRC,IAEGC,MAAK,SAAAC,GACJb,EAAWa,EAASC,WAEvB,IAGH,IAIMC,EAAkB,WACtBJ,IAEGC,MAAK,SAAAC,GAAQ,OAAIb,EAAWa,EAASC,UA8CxC,IAAME,EAAS,CACb,CAAEzB,UAAW,OAAQC,WAAYS,EAASP,YAAa,iBAAkBT,SAtDvD,SAACgC,GAAD,OAAWf,EAAWe,EAAMC,OAAOnC,SAuDrD,CAAEQ,UAAW,QAASC,WAAYW,EAAWT,YAAa,oBAAqBT,SAtDtD,SAACgC,GAAD,OAAWb,EAAaa,EAAMC,OAAOnC,UAyDhE,OACE,sBAAKJ,UAAU,YAAf,UACE,2CACA,cAAC,EAAD,CAAYD,KAAM4B,IAClB,cAAC,EAAD,CAAW5B,KAAM8B,IACjB,cAAC,EAAD,CAAQ9B,KAAK,oBAAoBM,UAAWpB,EAAYqB,SA7DtC,SAACgC,GAAD,OAAWZ,EAAcY,EAAMC,OAAOnC,UA8DxD,2CACA,cAAC,EAAD,CAAWI,WAAY6B,IACvB,cAAC,EAAD,CAAWpB,WAAY,CAAEC,KAAM,SAAUnB,KAAM,MAAOF,QAxDzC,SAACyC,GAClBA,EAAME,iBAGNR,EAFqB,CAAC,KAASV,EAAS,YAAgBE,IAIvDS,MAAM,SAAAQ,QACkBC,IAAnBD,EAAIN,KAAKQ,OACXf,EAAc,GAAD,OAAIa,EAAIN,KAAK7C,KAAb,wBACb8C,KAEAN,EAAa,WAEfc,YAAW,WACTd,EAAa,MACbF,EAAc,QAAQ,YA0CtB,yCACA,cAAC,EAAD,CAAiB3C,WAAYA,EAAYC,QAASA,EAASC,aAvC5C,SAACL,GAClB,IAAM+D,EAAc3D,EAAQ4D,MAAK,SAAAC,GAAC,OAAIA,EAAEjE,KAAOA,KAE3CkE,OAAOC,QAAP,iBAAyBJ,EAAYvD,KAArC,SACF0C,EACclD,GACXmD,MAAK,kBAAMG,OAEdR,EAAc,WAAD,OAAYiB,EAAYvD,OACrCsD,YAAW,WACThB,EAAc,QACb,aClHXsB,IAASC,OACL,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.95ff8e8e.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newUser => {\r\n    return axios.post(baseUrl, newUser)\r\n}\r\n\r\nconst deleteUser = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst updateUserPhonenumber = (newUserInfo) => {\r\n    return axios.put(`${baseUrl}/${newUserInfo.id}`, newUserInfo)\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deleteUser,\r\n    updateUserPhonenumber\r\n}\r\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/phonebook'\n\nconst RenderPhonebook = ({ filterText, persons, handleDelete }) => {\n  return (\n    <ul>\n      {persons\n        .filter(person => person.name.toLowerCase().includes(filterText.toLowerCase()))\n        .map((person, i) => <RenderPerson key={i} person={person} handleDelete={handleDelete} />)}\n    </ul>\n  )\n}\nconst RenderPerson = ({ person, handleDelete }) => <li>{person.name} {person.phonenumber} <button onClick={() => handleDelete(person.id)}>delete</button></li>\n\nconst ChangeText = ({ text }) => {\n  if (text === null)\n    return null\n\n  return (\n    <div className=\"changeText\">\n      {text}\n    </div>\n  )\n}\n\nconst ErrorText = ({ text }) => {\n  if (text === null)\n    return null\n\n  return (\n    <div className=\"errorText\">\n      {text}\n    </div>\n  )\n}\n\nconst Filter = (props) => (\n  <div>\n    {props.text} <input value={props.inputText} onChange={props.onChange}></input>\n  </div>\n)\n\nconst InputForm = ({ inputTypes }) => (\n  <form>\n    {inputTypes.map((input, i) => <NewInput key={i} inputInfo={input} />)}\n  </form>\n)\n\nconst NewInput = ({ inputInfo }) => (\n  <>\n    {inputInfo.inputName}: <input value={inputInfo.inputValue} placeholder={inputInfo.placeHolder} onChange={inputInfo.onChange} /><br />\n  </>\n)\n\nconst NewButton = ({ buttonInfo }) => (\n  <>\n    <button type={buttonInfo.type} onClick={buttonInfo.onClick}>{buttonInfo.text}</button>\n  </>\n)\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [changeText, setChangeText] = useState(null)\n  const [errorText, setErrorText] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n\n  const handleNewUser = (event) => setNewName(event.target.value)\n  const handleNewPhonenumber = (event) => setNewNumber(event.target.value)\n  const handleNewFilter = (event) => setFilterText(event.target.value)\n\n  const updatePhonebook = () => {\n    personService\n      .getAll()\n      .then(response => setPersons(response.data))\n  }\n\n  const addNewUser = (event) => {\n    event.preventDefault()\n    const newAddedUser = {\"name\" : newName, \"phonenumber\" : newNumber}\n\n    personService\n    .create(newAddedUser)\n    .then( res => {\n      if (res.data.error === undefined){\n        setChangeText(`${res.data.name} Added successfully`)\n        updatePhonebook()\n      }else {\n        setErrorText(`Onkelma`)\n      }\n      setTimeout(() => {\n        setErrorText(null)\n        setChangeText(null)}, 2000)\n    })\n  }\n\n    const deleteUser = (id) => {\n      const deletedUser = persons.find(p => p.id === id)\n\n      if (window.confirm(`Delete ${deletedUser.name} ?`)) {\n        personService\n          .deleteUser(id)\n          .then(() => updatePhonebook())\n\n        setChangeText(`Deleted ${deletedUser.name}`)\n        setTimeout(() => {\n          setChangeText(null)\n        }, 2000)\n      }\n\n    }\n\n    function nameAlreadyInList() {\n      for (let i = 0; i < persons.length; i++) {\n        if (persons[i].name === newName)\n          return persons[i];\n      }\n      return false;\n    }\n\n    const inputs = [\n      { inputName: 'name', inputValue: newName, placeHolder: 'Enter new name', onChange: handleNewUser },\n      { inputName: 'phone', inputValue: newNumber, placeHolder: 'Enter phonenumber', onChange: handleNewPhonenumber }\n    ]\n\n    return (\n      <div className=\"phonebook\">\n        <h2>Phonebook</h2>\n        <ChangeText text={changeText} />\n        <ErrorText text={errorText} />\n        <Filter text=\"Filter shown with\" inputText={filterText} onChange={handleNewFilter} />\n        <h3>Add a new</h3>\n        <InputForm inputTypes={inputs} />\n        <NewButton buttonInfo={{ type: \"submit\", text: \"add\", onClick: addNewUser }} />\n        <h3>Numbers</h3>\n        <RenderPhonebook filterText={filterText} persons={persons} handleDelete={deleteUser} />\n      </div>\n    )\n  }\n\n  export default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}